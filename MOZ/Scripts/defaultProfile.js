let redIronDeck = [{
  cardID: 'S015'
  }, {
  cardID: 'S018'
  }, {
  cardID: 'S028'
  }, {
  cardID: 'S033'
  }, {
  cardID: 'S034'
  }, {
  cardID: '002'
  }, {
  cardID: '004'
  }, {
  cardID: '005'
  }, {
  cardID: '009'
  }, {
  cardID: '011'
  }, {
  cardID: '012'
  }, {
  cardID: '013'
  }, {
  cardID: '020'
  }, {
  cardID: '023'
  }, {
  cardID: '029'
  }, {
  cardID: '039'
  }, {
  cardID: '059'
  }, {
  cardID: '060'
  }, {
  cardID: '072'
  }, {
  cardID: '073'
  }, {
  cardID: '076'
  }, {
  cardID: '095'
  }, {
  cardID: '098'
  }, {
  cardID: '105'
  }, {
  cardID: '107'
  }, {
  cardID: '114'
  }, {
  cardID: '115'
  }, {
  cardID: '118'
  }, {
  cardID: '172'
  }, {
  cardID: '173'
  }, {
  cardID: '175'
  }, {
  cardID: '178'
  }, {
  cardID: '179'
  }, {
  cardID: '181'
  }, {
  cardID: '183'
  }, {
  cardID: '184'
  }, {
  cardID: '185'
  }, {
  cardID: '187'
  }, {
  cardID: '196'
  }, {
  cardID: '197'
  }, {
  cardID: '199'
  }, {
  cardID: '200'
  }, {
  cardID: '201'
  }, {
  cardID: '202'
  }, {
  cardID: '203'
  }, {
  cardID: '119'
  }, {
  cardID: '124'
  }, {
  cardID: '131'
  }, {
  cardID: '132'
  }, {
  cardID: '142'
  }, {
  cardID: '151'
  }, {
  cardID: '154'
  }, {
  cardID: '160'
  }, {
  cardID: '163'
  }, {
  cardID: '171'
}];

let mistWoodDeck = [{
  cardID: 'S011'
  }, {
  cardID: 'S024'
  }, {
  cardID: 'S036'
  }, {
  cardID: 'S060'
  }, {
  cardID: 'S069'
  }, {
  cardID: '010'
  }, {
  cardID: '017'
  }, {
  cardID: '019'
  }, {
  cardID: '022'
  }, {
  cardID: '023'
  }, {
  cardID: '044'
  }, {
  cardID: '045'
  }, {
  cardID: '057'
  }, {
  cardID: '059'
  }, {
  cardID: '060'
  }, {
  cardID: '061'
  }, {
  cardID: '062'
  }, {
  cardID: '064'
  }, {
  cardID: '065'
  }, {
  cardID: '066'
  }, {
  cardID: '081'
  }, {
  cardID: '084'
  }, {
  cardID: '089'
  }, {
  cardID: '090'
  }, {
  cardID: '091'
  }, {
  cardID: '110'
  }, {
  cardID: '111'
  }, {
  cardID: '113'
  }, {
  cardID: '115'
  }, {
  cardID: '118'
  }, {
  cardID: '173'
  }, {
  cardID: '174'
  }, {
  cardID: '175'
  }, {
  cardID: '177'
  }, {
  cardID: '178'
  }, {
  cardID: '179'
  }, {
  cardID: '186'
  }, {
  cardID: '187'
  }, {
  cardID: '188'
  }, {
  cardID: '189'
  }, {
  cardID: '190'
  }, {
  cardID: '191'
  }, {
  cardID: '192'
  }, {
  cardID: '193'
  }, {
  cardID: '201'
  }, {
  cardID: '126'
  }, {
  cardID: '127'
  }, {
  cardID: '134'
  }, {
  cardID: '138'
  }, {
  cardID: '142'
  }, {
  cardID: '155'
  }, {
  cardID: '158'
  }, {
  cardID: '159'
  }, {
  cardID: '161'
  }, {
  cardID: '171'
}];

let waterForestDeck = [{
  cardID: 'S002'
  }, {
  cardID: 'S019'
  }, {
  cardID: 'S022'
  }, {
  cardID: 'S036'
  }, {
  cardID: 'S046'
  }, {
  cardID: '014'
  }, {
  cardID: '017'
  }, {
  cardID: '019'
  }, {
  cardID: '020'
  }, {
  cardID: '021'
  }, {
  cardID: '023'
  }, {
  cardID: '044'
  }, {
  cardID: '045'
  }, {
  cardID: '046'
  }, {
  cardID: '050'
  }, {
  cardID: '051'
  }, {
  cardID: '052'
  }, {
  cardID: '055'
  }, {
  cardID: '057'
  }, {
  cardID: '059'
  }, {
  cardID: '060'
  }, {
  cardID: '061'
  }, {
  cardID: '062'
  }, {
  cardID: '064'
  }, {
  cardID: '066'
  }, {
  cardID: '081'
  }, {
  cardID: '083'
  }, {
  cardID: '084'
  }, {
  cardID: '086'
  }, {
  cardID: '089'
  }, {
  cardID: '090'
  }, {
  cardID: '118'
  }, {
  cardID: '174'
  }, {
  cardID: '176'
  }, {
  cardID: '177'
  }, {
  cardID: '178'
  }, {
  cardID: '179'
  }, {
  cardID: '186'
  }, {
  cardID: '188'
  }, {
  cardID: '189'
  }, {
  cardID: '190'
  }, {
  cardID: '191'
  }, {
  cardID: '192'
  }, {
  cardID: '193'
  }, {
  cardID: '120'
  }, {
  cardID: '124'
  }, {
  cardID: '133'
  }, {
  cardID: '134'
  }, {
  cardID: '142'
  }, {
  cardID: '155'
  }, {
  cardID: '157'
  }, {
  cardID: '160'
  }, {
  cardID: '161'
  }, {
  cardID: '163'
  }, {
  cardID: '171'
}];

let earthFireDeck = [{
  cardID: 'S003'
  }, {
  cardID: 'S010'
  }, {
  cardID: 'S021'
  }, {
  cardID: 'S023'
  }, {
  cardID: 'S029'
  }, {
  cardID: '002'
  }, {
  cardID: '004'
  }, {
  cardID: '005'
  }, {
  cardID: '006'
  }, {
  cardID: '007'
  }, {
  cardID: '009'
  }, {
  cardID: '010'
  }, {
  cardID: '011'
  }, {
  cardID: '012'
  }, {
  cardID: '014'
  }, {
  cardID: '019'
  }, {
  cardID: '020'
  }, {
  cardID: '022'
  }, {
  cardID: '029'
  }, {
  cardID: '031'
  }, {
  cardID: '033'
  }, {
  cardID: '036'
  }, {
  cardID: '039'
  }, {
  cardID: '046'
  }, {
  cardID: '050'
  }, {
  cardID: '052'
  }, {
  cardID: '057'
  }, {
  cardID: '059'
  }, {
  cardID: '060'
  }, {
  cardID: '064'
  }, {
  cardID: '065'
  }, {
  cardID: '066'
  }, {
  cardID: '117'
  }, {
  cardID: '172'
  }, {
  cardID: '176'
  }, {
  cardID: '182'
  }, {
  cardID: '183'
  }, {
  cardID: '184'
  }, {
  cardID: '185'
  }, {
  cardID: '186'
  }, {
  cardID: '187'
  }, {
  cardID: '190'
  }, {
  cardID: '191'
  }, {
  cardID: '192'
  }, {
  cardID: '193'
  }, {
  cardID: '119'
  }, {
  cardID: '130'
  }, {
  cardID: '133'
  }, {
  cardID: '142'
  }, {
  cardID: '150'
  }, {
  cardID: '152'
  }, {
  cardID: '159'
  }, {
  cardID: '160'
  }, {
  cardID: '161'
  }, {
  cardID: '171'
}];

let earthLightDeck = [{
  cardID: 'S008'
  }, {
  cardID: 'S012'
  }, {
  cardID: 'S017'
  }, {
  cardID: 'S027'
  }, {
  cardID: 'S034'
  }, {
  cardID: '005'
  }, {
  cardID: '009'
  }, {
  cardID: '011'
  }, {
  cardID: '012'
  }, {
  cardID: '013'
  }, {
  cardID: '014'
  }, {
  cardID: '020'
  }, {
  cardID: '029'
  }, {
  cardID: '030'
  }, {
  cardID: '031'
  }, {
  cardID: '033'
  }, {
  cardID: '036'
  }, {
  cardID: '039'
  }, {
  cardID: '044'
  }, {
  cardID: '045'
  }, {
  cardID: '055'
  }, {
  cardID: '064'
  }, {
  cardID: '065'
  }, {
  cardID: '066'
  }, {
  cardID: '081'
  }, {
  cardID: '083'
  }, {
  cardID: '084'
  }, {
  cardID: '086'
  }, {
  cardID: '089'
  }, {
  cardID: '090'
  }, {
  cardID: '091'
  }, {
  cardID: '115'
  }, {
  cardID: '118'
  }, {
  cardID: '174'
  }, {
  cardID: '177'
  }, {
  cardID: '178'
  }, {
  cardID: '181'
  }, {
  cardID: '182'
  }, {
  cardID: '183'
  }, {
  cardID: '184'
  }, {
  cardID: '185'
  }, {
  cardID: '186'
  }, {
  cardID: '188'
  }, {
  cardID: '191'
  }, {
  cardID: '195'
  }, {
  cardID: '119'
  }, {
  cardID: '126'
  }, {
  cardID: '134'
  }, {
  cardID: '136'
  }, {
  cardID: '142'
  }, {
  cardID: '152'
  }, {
  cardID: '158'
  }, {
  cardID: '159'
  }, {
  cardID: '161'
  }, {
  cardID: '171'
}];

// give the following to first-time player
const buildDefaultCollection = () => {
  let defaultCollection = [];
  for (let i = 0; i < redIronDeck.length; i++) {
    defaultCollection.push(redIronDeck[i]);
  }
  for (let i = 0; i < earthFireDeck.length; i++) {
    if (defaultCollection.filter(card => card.cardID === earthFireDeck[i].cardID).length === 0) {
      defaultCollection.push(earthFireDeck[i]);
    }
  }
  for (let i = 0; i < earthLightDeck.length; i++) {
    if (defaultCollection.filter(card => card.cardID === earthLightDeck[i].cardID).length === 0) {
      defaultCollection.push(earthLightDeck[i]);
    }
  }
  for (let i = 0; i < waterForestDeck.length; i++) {
    if (defaultCollection.filter(card => card.cardID === waterForestDeck[i].cardID).length === 0) {
      defaultCollection.push(waterForestDeck[i]);
    }
  }
  for (let i = 0; i < mistWoodDeck.length; i++) {
    if (defaultCollection.filter(card => card.cardID === mistWoodDeck[i].cardID).length === 0) {
      defaultCollection.push(mistWoodDeck[i]);
    }
  }
  defaultCollection.sort((a,b) => {
    if ((a.cardID.substring(0,1) === 'S' || a.cardID.substring(0,2) === 'MS' || a.cardID.substring(0,2) === 'NS') 
      && (b.cardID.substring(0,1) !== 'S' && b.cardID.substring(0,2) !== 'MS' && b.cardID.substring(0,2) !== 'NS')) {
      return -1
    } else if ((a.cardID.substring(0,1) !== 'S' && a.cardID.substring(0,2) !== 'MS' && a.cardID.substring(0,2) !== 'NS') 
    && (b.cardID.substring(0,1) === 'S' || b.cardID.substring(0,2) === 'MS' || b.cardID.substring(0,2) === 'NS')) {
      return 1
    } else if (a.cardID > b.cardID) {
      return 1
    } else {
      return -1
    }
  });
  return defaultCollection;
}

// use the following to test legality check
const buildTestCollection = () => {
  let tempArray = [];
  for (let i = 0; i < sCardDB.length; i++) {
    tempArray.push({
      cardID: sCardDB[i].cardID
    })
  }
  for (let i = 1; i < cardDB.length; i++) {
    tempArray.push({
      cardID: cardDB[i].cardID
    })
  }
  return tempArray;
}
const defaultCollection = buildDefaultCollection();
const testCollection = buildTestCollection();

let defaultProfile = [{
  playerName: '新玩家',
  exp: 0,
  activeSlot: 2,
}, {
  collection: defaultCollection
}, {
  deckName: '地火',
  deck: earthFireDeck
}, {
  deckName: '霧森',
  deck: mistWoodDeck
}, {
  deckName: '紅鐵',
  deck: redIronDeck
}, {
  deckName: '水林',
  deck: waterForestDeck
}, {
  deckName: '地光',
  deck: earthLightDeck
}];

